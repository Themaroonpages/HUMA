<section class="page-hero">
  <div class="container">
    <h1 class="page-hero-title">Your <span>Cart</span></h1>
  </div>
</section>

<section class="section">
  <div class="container">
    {%- if cart.item_count == 0 -%}
      <div class="cart-empty" style="padding: 4rem 0; text-align: center;">
        <svg style="width: 80px; height: 80px; color: #D4AF37; opacity: 0.5; margin-bottom: 1.5rem;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <h2>Your cart is empty</h2>
        <p style="margin-bottom: 1.5rem; color: #4A4743;">Looks like you haven't added anything yet.</p>
        <a href="/collections/all" class="btn btn-gold">Start Shopping</a>
      </div>
    {%- else -%}
      <form action="/cart" method="post">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr style="border-bottom: 2px solid rgba(212, 175, 55, 0.2);">
              <th style="text-align: left; padding: 1rem 0;">Product</th>
              <th style="text-align: center; padding: 1rem 0;">Quantity</th>
              <th style="text-align: right; padding: 1rem 0;">Total</th>
            </tr>
          </thead>
          <tbody>
            {%- for item in cart.items -%}
              <tr style="border-bottom: 1px solid rgba(212, 175, 55, 0.1);">
                <td style="padding: 1.5rem 0;">
                  <div style="display: flex; gap: 1rem; align-items: center;">
                    <img src="{{ item.image | image_url: width: 100 }}" alt="{{ item.product.title }}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 0.5rem;">
                    <div>
                      <h4 style="font-family: 'Playfair Display', serif;">{{ item.product.title }}</h4>
                      {%- unless item.variant.title == 'Default Title' -%}
                        <p style="font-size: 0.875rem; color: #4A4743;">{{ item.variant.title }}</p>
                      {%- endunless -%}
                      <p style="color: #800000; font-weight: 600;">{{ item.price | money }}</p>
                    </div>
                  </div>
                </td>
                <td style="text-align: center;">
                  <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" style="width: 60px; text-align: center; padding: 0.5rem; border: 1px solid rgba(212, 175, 55, 0.3); border-radius: 0.25rem;">
                </td>
                <td style="text-align: right; font-weight: 600; color: #800000;">
                  {{ item.final_line_price | money }}
                </td>
              </tr>
            {%- endfor -%}
          </tbody>
        </table>
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 2rem; padding-top: 2rem; border-top: 2px solid rgba(212, 175, 55, 0.2);">
          <button type="submit" class="btn btn-outline" name="update">Update Cart</button>
          
          <div style="text-align: right;">
            <p style="font-size: 1.25rem; margin-bottom: 0.5rem;">
              Subtotal: <strong style="color: #800000;">{{ cart.total_price | money }}</strong>
            </p>
            <a href="/checkout" class="btn btn-maroon">Checkout</a>
          </div>
        </div>
      </form>
    {%- endif -%}
  </div>
</section>
