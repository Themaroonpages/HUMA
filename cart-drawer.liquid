<div class="cart-drawer-overlay"></div>
<div class="cart-drawer">
  <div class="cart-drawer-header">
    <h3 class="cart-drawer-title">Your Cart ({{ cart.item_count }})</h3>
    <button class="cart-drawer-close" aria-label="Close cart">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  
  <div class="cart-drawer-content">
    {%- if cart.item_count == 0 -%}
      <div class="cart-empty">
        <svg class="cart-empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <h4 class="cart-empty-title">Your cart is empty</h4>
        <p class="cart-empty-text">Looks like you haven't added anything yet.</p>
        <a href="/collections/all" class="btn btn-gold">Start Shopping</a>
      </div>
    {%- else -%}
      {%- for item in cart.items -%}
        <div class="cart-item" data-line="{{ forloop.index }}">
          <div class="cart-item-image">
            <img src="{{ item.image | image_url: width: 200 }}" alt="{{ item.product.title }}">
          </div>
          <div class="cart-item-content">
            <h4 class="cart-item-title">{{ item.product.title }}</h4>
            {%- unless item.variant.title == 'Default Title' -%}
              <p class="cart-item-variant">{{ item.variant.title }}</p>
            {%- endunless -%}
            <p class="cart-item-price">{{ item.final_line_price | money }}</p>
            
            <div class="cart-item-quantity">
              <button class="cart-quantity-btn" data-action="minus">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
              </button>
              <span class="cart-quantity-value">{{ item.quantity }}</span>
              <button class="cart-quantity-btn" data-action="plus">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"></line>
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
              </button>
            </div>
          </div>
          <button class="cart-item-remove" aria-label="Remove item">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
          </button>
        </div>
      {%- endfor -%}
    {%- endif -%}
  </div>
  
  {%- if cart.item_count > 0 -%}
    <div class="cart-drawer-footer">
      <div class="cart-subtotal">
        <span class="cart-subtotal-label">Subtotal</span>
        <span class="cart-subtotal-value">{{ cart.total_price | money }}</span>
      </div>
      <a href="/checkout" class="btn btn-maroon cart-checkout-btn">Checkout</a>
    </div>
  {%- endif -%}
</div>

{% schema %}
{
  "name": "Cart Drawer",
  "settings": []
}
{% endschema %}
